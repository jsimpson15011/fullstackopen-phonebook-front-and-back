{"version":3,"sources":["components/FilterForm.js","components/NewPersonForm.js","components/Person.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["FilterForm","props","react_default","a","createElement","value","nameFilter","onChange","handleNameFilterChange","NewPersonForm","onSubmit","nameValue","onNameChange","numberValue","onNumberChange","type","Person","name","number","onClick","deletePerson","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","delete","concat","Notification","_ref","message","className","App","useEffect","personService","persons","setPersons","setFilteredPersons","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","filteredPersons","_useState5","_useState6","setNameFilter","_useState7","_useState8","newName","setNewName","_useState9","_useState10","newNumber","setNewNumber","_useState11","_useState12","setMessage","_useState13","_useState14","notificationClass","setNotificationClass","personsToShow","length","newMessage","newClass","setTimeout","newFilteredPersons","filter","person","toLowerCase","includes","personRows","map","components_Person","key","personToBeDeleted","window","confirm","components_Notification","components_FilterForm","event","target","components_NewPersonForm","preventDefault","newNameObject","catch","error","console","log","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.9f0a79f8.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst FilterForm = (props) => {\r\n    return(\r\n        <form>\r\n            filter shown with<input value={props.nameFilter} onChange={props.handleNameFilterChange}/>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default FilterForm","import React from 'react'\r\n\r\nconst NewPersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.onSubmit}>\r\n            <div>\r\n                name:\r\n                <input\r\n                    value={props.nameValue}\r\n                    onChange={props.onNameChange}\r\n                />\r\n            </div>\r\n            <div>\r\n                number:\r\n                <input\r\n                    value={props.numberValue}\r\n                    onChange={props.onNumberChange}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default NewPersonForm","import React from 'react'\r\n\r\nconst Person = (props) => {\r\n    return (\r\n        <p>{props.name} {props.number} <button onClick={props.deletePerson}>delete</button></p>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default Person","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll: getAll,\r\n    create: create,\r\n    remove: remove,\r\n    update: update\r\n}","import React from 'react'\r\n\r\nconst Notification = ({ message, className })=>{\r\n    if (message === null){\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={className} >\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, {useState, useEffect} from 'react'\nimport FilterForm from './components/FilterForm'\nimport NewPersonForm from './components/NewPersonForm'\nimport Person from './components/Person'\nimport personService from './services/persons'\nimport Notification from \"./components/Notification\"\n\n\nconst App = () => {\n\n  useEffect(() => {\n    personService.getAll()\n      .then(\n        (persons) => {\n          setPersons(persons)\n          setFilteredPersons(persons)\n        }\n      )\n  }, [])\n\n\n  const [persons, setPersons] = useState([])\n  const [filteredPersons, setFilteredPersons] = useState([])\n  const [nameFilter, setNameFilter] = useState('')\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [message, setMessage] = useState('')\n  const [notificationClass, setNotificationClass] = useState('')\n\n  const personsToShow = nameFilter.length === 0 ? persons : filteredPersons\n\n  const newMessage = (newMessage, newClass) => {\n    setMessage(\n      newMessage\n    )\n    setNotificationClass(\n      newClass\n    )\n    setTimeout(() => {\n      setMessage(null)\n      setNotificationClass(null)\n    }, 5000)\n  }\n\n  const handleNameFilterChange = (event) => {\n    const newFilteredPersons = persons.filter(\n      (person) => {\n        return (\n          person.name.toLowerCase().includes(event.target.value.toLowerCase())\n        )\n      }\n    )\n    setNameFilter(event.target.value)\n    setFilteredPersons(newFilteredPersons)\n  }\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleNewPersonSubmit = (event) => {\n    event.preventDefault()\n    const newNameObject = {\n      name: newName,\n      number: newNumber\n    }\n    /*const nameCheck = persons.filter(\n      (person) => person.name === newName\n    ).length\n\n    if (nameCheck) {\n      if (window.confirm(`${newName} is already added to the phonebook, do you wish to replace the old number with this number?`)) {\n        const nameToBeUpdated = persons.filter(person => person.name === newName)[0]\n        const nameObjectWithId = {...newNameObject, id: nameToBeUpdated.id}\n        personService.update(nameToBeUpdated.id, nameObjectWithId)\n          .then(\n            setPersons(persons.map(person => person.name === newName ? nameObjectWithId : person)),\n            setFilteredPersons(filteredPersons.map(person => person.name === newName ? nameObjectWithId : person))\n          )\n          .then(\n            newMessage(`${nameObjectWithId.name} number changed successfully`, 'success')\n          )\n          .catch(\n            (error) => {\n              newMessage(`${nameObjectWithId.name} has already been deleted from the server`, 'error')\n            }\n          )\n      }\n    }*/\n    //else {\n      personService.create(newNameObject)\n        .then(\n          (person) => {\n            setPersons(persons.concat(person))\n          }\n        )\n        .catch(error => {\n        console.log(error.response.data)\n          if (error.response.data.error){\n            newMessage(error.response.data.error, 'error')\n          }else{\n            newMessage(error.response.data, 'error')\n          }\n      })\n        .then(\n          newMessage(`${newNameObject.name} added successfully`, 'success')\n        )\n\n    //}\n  }\n  const deletePerson = (id) => {\n    const personToBeDeleted = persons.filter((person) => person.id === id)[0]\n    if (window.confirm(`delete ${personToBeDeleted.name}?`)) {\n      personService.remove(id)\n        .then(\n          setPersons(persons.filter((person) => person.id !== id)),\n          setFilteredPersons(filteredPersons.filter((person) => person.id !== id)),\n          newMessage(`${personToBeDeleted.name} deleted successfully`, 'success')\n        )\n    }\n  }\n  useEffect(() => {\n    const newFilteredPersons = persons.filter(\n      (person) => {\n        return (\n          person.name.toLowerCase().includes(nameFilter.toLowerCase())\n        )\n      }\n    )\n    setFilteredPersons(newFilteredPersons)\n  }, [persons, nameFilter])\n\n  const personRows = personsToShow.map(\n    (person) => {\n      return <Person key={person.id} name={person.name} number={person.number}\n                     deletePerson={() => deletePerson(person.id)}/>\n    }\n  )\n\n  return (\n    <div>\n      <Notification\n        className={notificationClass}\n        message={message}\n      />\n      <h2>Phonebook</h2>\n      <FilterForm\n        nameFilter={nameFilter}\n        handleNameFilterChange={handleNameFilterChange}\n      />\n      <h2>Add new Person</h2>\n      <NewPersonForm\n        onSubmit={handleNewPersonSubmit}\n        nameValue={newName}\n        onNameChange={handleNameChange}\n        numberValue={newNumber}\n        onNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      {personRows}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}